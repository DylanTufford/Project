/*script uglified*/
function getBarList(){$("ul.barList").empty(),$.getJSON("bars.json",function(a){for(var b=0;b<a.bars.length;b++){var c=a.bars[b].barName;$("ul.barList").append($("<li>").append($("<a>").attr({href:"#barSpecials",onClick:'getBarInfo("'+c+'")'}).append(c)))}$("ul.barList").listview("refresh")})}function getDrinksList(){$("ul.drinkList").empty(),$.getJSON("drinks.json",function(a){for(var b=0;b<a.drinks.length;b++){var c=a.drinks[b].drinkType;$("ul.drinkList").append($("<li>").attr("data-role","list-divider").append(c));for(var d=0;d<a.drinks[b].types.length;d++){var e=a.drinks[b].types[d]._type;$("ul.drinkList").append($("<li>").append($("<a>").attr({href:"#drinkSpecials",onClick:'getDrinkInfo("'+e+'")'}).append(e)))}}$("ul.drinkList").listview("refresh")})}function getBarInfo(a){$("#barSpecials h1").text(""),$("#barInfo h1").text(""),$("ul.specialsList").empty(),$("#address").text(""),$("#phone").text(""),$("#mon").text(""),$("#tues").text(""),$("#wed").text(""),$("#thu").text(""),$("#fri").text(""),$("#sat").text(""),$("#sun").text(""),$('div[id="barSpecials"]').bind("pageshow",function(){document.title=a+" - Specials"}),$('div[id="barInfo"]').bind("pageshow",function(){document.title=a+" - Information"}),$("#barSpecials h1").text(a),$("#barInfo h1").text(a),checkCookie=$.cookie(a),"true"==checkCookie?($("#faveButtonSpecials").text("Unfavourite"),$("#faveButtonInfo").text("Unfavourite")):($("#faveButtonSpecials").text("Favourite"),$("#faveButtonInfo").text("Favourite")),$.getJSON("bars.json",function(b){for(var c,d=0;d<b.bars.length;d++)if(a===b.bars[d].barName){c=d;break}var e=b.bars[c];$("#address").text(e.address),$("#phone").text(e.phone),null!=e.hours.m&&$("#mon").text("Monday: "+e.hours.m),null!=e.hours.tu&&$("#tues").text("Tuesday: "+e.hours.tu),null!=e.hours.w&&$("#wed").text("Wednesday: "+e.hours.w),null!=e.hours.th&&$("#thu").text("Thursday: "+e.hours.th),null!=e.hours.f&&$("#fri").text("Friday: "+e.hours.f),null!=e.hours.f&&$("#sat").text("Saturday: "+e.hours.sa),null!=e.hours.f&&$("#sun").text("Sunday: "+e.hours.su);for(var f=e.specials,g=null,d=0;d<b.bars[c].specials.length;d++){g!==f[d].weekday&&(g=b.bars[c].specials[d].weekday,$("ul.specialsList").append($('<li data-role="list-divider">').append(g)));var h=f[d].beverage,i=f[d].price,j=f[d].volume;$("ul.specialsList").append($("<li>").append("$"+i+" - "+h+" ("+j+"oz)"))}$("ul.specialsList").listview("refresh")})}function addBarsToMap(){$.getJSON("bars.json",{},function(a){$.each(a.bars,function(a,b){$("#map_canvas").gmap("addMarker",{position:new google.maps.LatLng(b.latitude,b.longitude),bounds:!0}).click(function(){$("#map_canvas").gmap("openInfoWindow",{content:b.barName},this)})})})}$(document).on("pageshow","#barList",function(){getBarList(),$("#faveButtonInfo").click(function(){name=$("#barInfo h1").text(),"Favourite"==$("#faveButtonInfo").text()?($.cookie(name,!0),$("#faveButtonInfo").text("Unfavourite"),$("#faveButtonSpecials").text("Unfavourite")):($.cookie(name,!1),$("#faveButtonInfo").text("Favourite"),$("#faveButtonSpecials").text("Favourite"))}),$("#faveButtonSpecials").click(function(){name=$("#barInfo h1").text(),"Favourite"==$("#faveButtonSpecials").text()?($.cookie(name,!0),$("#faveButtonInfo").text("Unfavourite"),$("#faveButtonSpecials").text("Unfavourite")):($.cookie(name,!1),$("#faveButtonInfo").text("Favourite"),$("#faveButtonSpecials").text("Favourite"))}),$("#azBars").click(function(){$("ul.barList").empty(),$.getJSON("bars.json",function(a){for(var b=0;b<a.bars.length;b++){var c=a.bars[b].barName;$("ul.barList").append($("<li>").append($("<a>").attr({href:"#barSpecials",onClick:'getBarInfo("'+c+'")'}).append(c)))}$("ul.barList").listview("refresh")})}),$("#favouriteBars").click(function(){$("ul.barList").empty(),$.getJSON("bars.json",function(a){for(var b=0;b<a.bars.length;b++){var c=a.bars[b].barName;"true"==$.cookie(c)&&$("ul.barList").append($("<li>").append($("<a>").attr({href:"#barSpecials",onClick:'getBarInfo("'+c+'")'}).append(c)))}$("ul.barList").listview("refresh")})}),$("#checkInInfo").click(function(){alert("You have been checked in to "+$("#barInfo h1").text()+"!")}),$("#checkInSpecials").click(function(){alert("You have been checked in to "+$("#barSpecials h1").text()+"!")})}),$(document).on("pageshow","#drinkList",function(){getDrinksList()}),$(document).on("pageshow","#map",function(){$("#map_canvas").gmap({streetViewControl:!1,panControl:!1,zoomControl:!1,zoom:10}).bind("init",function(){$("#map_canvas").gmap("getCurrentPosition",function(a,b){if("OK"===b){var c=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);$("#map_canvas").gmap("addMarker",{position:c,bounds:!0,animation:google.maps.Animation.DROP,icon:new google.maps.MarkerImage("images/arrow.png")}).click(function(){$("#map_canvas").gmap("openInfoWindow",{content:"You are here!"},this)})}}),addBarsToMap()})}),jQuery.cookie=function(a,b,c){if("undefined"==typeof b){var d=null;if(document.cookie&&""!=document.cookie)for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=jQuery.trim(e[f]);if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}return d}c=c||{},null===b&&(b="",c.expires=-1);var h="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var i;"number"==typeof c.expires?(i=new Date,i.setTime(i.getTime()+24*c.expires*60*60*1e3)):i=c.expires,h="; expires="+i.toUTCString()}var j=c.path?"; path="+c.path:"",k=c.domain?"; domain="+c.domain:"",l=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),h,j,k,l].join("")};